"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_copilot-chat_components_Chat_tsx-ui_packages_icon-button-with-tooltip_IconButtonW-1ba5d9"],{84863:(e,t,o)=>{o.d(t,{Y:()=>d});var n=o(21728),r=o(96540),a=o(22069),i=o(31971),s=o(74244),c=o(34901),l=o(47397),m=o(44435);function d(e){let t,o,d,u,h,p,x,f,g,_,y=(0,n.c)(27),b=(0,c.Pk)(),j=(0,l.b)(),{currentTopic:v,messages:S,selectedThreadID:N}=b;y[0]!==b?(t=(0,m.W)(b),y[0]=b,y[1]=t):t=y[1];let C=t,w=(0,r.useRef)(null),A=e||w;return y[2]!==j||y[3]!==S.length||y[4]!==C?(o=()=>{C&&S.length>0&&j.showTopicPicker(!1)},d=[C,S.length,j],y[2]=j,y[3]=S.length,y[4]=C,y[5]=o,y[6]=d):(o=y[5],d=y[6]),(0,r.useEffect)(o,d),y[7]!==v||y[8]!==N?(u=()=>{let e=v?(0,a.P)(v)?v.name:String(v.id):null;N&&e&&s.J.setSelectedTopic(N,e)},h=[N,v],y[7]=v,y[8]=N,y[9]=u,y[10]=h):(u=y[9],h=y[10]),(0,r.useEffect)(u,h),y[11]!==A?(p=()=>{let e=window.setTimeout(()=>{A.current?.focus()},1);return()=>{window.clearTimeout(e)}},x=[A],y[11]=A,y[12]=p,y[13]=x):(p=y[12],x=y[13]),(0,r.useEffect)(p,x),y[14]!==j||y[15]!==b.context?.[0]||y[16]!==b.currentRepository||y[17]!==b.currentTopic?(f=()=>{let e=b.context?.[0]??(i.W.topicsAsReferences?b.currentRepository:b.currentTopic);return e&&j.generateSuggestions(e),()=>{j.clearSuggestions()}},y[14]=j,y[15]=b.context?.[0],y[16]=b.currentRepository,y[17]=b.currentTopic,y[18]=f):f=y[18],y[19]!==j||y[20]!==b.context||y[21]!==b.currentRepository||y[22]!==b.currentTopic||y[23]!==b.selectedThreadID?(g=[j,b.context,b.currentTopic,b.currentRepository,b.selectedThreadID],y[19]=j,y[20]=b.context,y[21]=b.currentRepository,y[22]=b.currentTopic,y[23]=b.selectedThreadID,y[24]=g):g=y[24],(0,r.useEffect)(f,g),y[25]!==A?(_={textAreaRef:A},y[25]=A,y[26]=_):_=y[26],_}},75718:(e,t,o)=>{o.d(t,{P:()=>c});var n=o(74848),r=o(21728),a=o(95726),i=o(47397);let s={ambientErrorBanner:"AmbientErrorBanner-module__ambientErrorBanner--iXbHt",largeBorderRadius:"AmbientErrorBanner-module__largeBorderRadius--Qk23B",mediumBorderRadius:"AmbientErrorBanner-module__mediumBorderRadius--dREtI"};function c(e){let t,o,c=(0,r.c)(6),{ambientError:l,useLargerBorderRadius:m}=e,d=(0,i.b)(),u=void 0!==m&&m?s.largeBorderRadius:s.mediumBorderRadius,h=`${s.ambientErrorBanner} ${u}`;return c[0]!==d?(t=()=>{d.dismissAmbientError()},c[0]=d,c[1]=t):t=c[1],c[2]!==l.message||c[3]!==h||c[4]!==t?(o=(0,n.jsx)(a.l,{className:h,description:l.message,variant:"critical",title:"Error during copilot chat has occurred.",hideTitle:!0,onDismiss:t}),c[2]=l.message,c[3]=h,c[4]=t,c[5]=o):o=c[5],o}try{c.displayName||(c.displayName="AmbientErrorBanner")}catch{}},93542:(e,t,o)=>{o.d(t,{r:()=>eZ});var n,r=o(74848),a=o(21728),i=o(96235),s=o(96679),c=o(38621),l=o(5420),m=o(63867),d=o(55847),u=o(39459),h=o(84217),p=o(46309),x=o(47139);let f={"contacts-container":"Contact-module__contacts-container--agbyj","contact-list":"Contact-module__contact-list--rJuRJ","contact-container":"Contact-module__contact-container--hYL0Q","contact-info-container":"Contact-module__contact-info-container--gGPwl"},g={monogram:"Monogram-module__monogram--gRaga"},_=e=>{let t,o=(0,a.c)(2),{initials:n}=e;return o[0]!==n?(t=(0,r.jsx)("div",{className:g.monogram,children:n}),o[0]=n,o[1]=t):t=o[1],t};try{_.displayName||(_.displayName="Monogram")}catch{}let y=e=>{let t,o,n,i,s,c=(0,a.c)(14),{size:l,information:m}=e,d=void 0===l?48:l;return c[0]!==m.avatar_url||c[1]!==m.username||c[2]!==d?(t=m.avatar_url?(0,r.jsx)(u.r,{square:!0,size:d,src:m.avatar_url,alt:m.username||"User avatar"}):(0,r.jsx)(_,{initials:m.username.charAt(0)}),c[0]=m.avatar_url,c[1]=m.username,c[2]=d,c[3]=t):t=c[3],c[4]!==m.username?(o=(0,r.jsx)(h.A,{as:"h2",variant:"small",children:m.username}),c[4]=m.username,c[5]=o):o=c[5],c[6]!==m.rank?(n=(0,r.jsx)(p.B,{direction:"horizontal",wrap:"wrap",children:(0,r.jsx)(x.A,{children:m.rank},m.rank)}),c[6]=m.rank,c[7]=n):n=c[7],c[8]!==o||c[9]!==n?(i=(0,r.jsxs)("div",{className:f["contact-info-container"],children:[o,n]}),c[8]=o,c[9]=n,c[10]=i):i=c[10],c[11]!==t||c[12]!==i?(s=(0,r.jsxs)("div",{className:f["contact-container"],children:[t,i]}),c[11]=t,c[12]=i,c[13]=s):s=c[13],s},b=e=>{let t,o,n,i=(0,a.c)(5),{contacts:s}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(h.A,{as:"h1",variant:"medium",children:"Who to talk to"}),i[0]=t):t=i[0],i[1]!==s?(o=s?.map(j),i[1]=s,i[2]=o):o=i[2],i[3]!==o?(n=(0,r.jsxs)("div",{className:f["contacts-container"],children:[t,(0,r.jsx)("div",{className:f["contact-list"],children:o})]}),i[3]=o,i[4]=n):n=i[4],n};try{y.displayName||(y.displayName="Contact")}catch{}try{b.displayName||(b.displayName="ContactList")}catch{}function j(e){return(0,r.jsx)(y,{information:e},e.id)}let v={"spinner-container":"CopilotMetadata-module__spinner-container--RKoek","tab-container":"CopilotMetadata-module__tab-container--DMNby",muted:"CopilotMetadata-module__muted--rz00u","metadata-container":"CopilotMetadata-module__metadata-container--oWP34","referrer-button":"CopilotMetadata-module__referrer-button--FJeFp"};var S=o(879),N=o(60039),C=o(96540);let w=({setLoading:e,issueNumber:t,makeCAPIRequest:o,fileContext:n})=>{let[r,a]=(0,C.useState)([]),{repoOwner:i,repoName:s,ref:c,path:l}=n??{},m=(0,C.useCallback)(async()=>{try{if(!n)return"";let e=await (0,N.lS)(`/${i}/${s}/collaborator_prompt/${l}?ref=${c}${t?`&issue=${t}`:""}`);if(!e.ok)throw Error("Something went wrong");let r=await e.text(),a={messages:[{role:"user",content:r}],model:"gpt-4o-mini",stream:!1,response_format:{type:"json_schema",json_schema:{name:"Collaborators",description:"List of metadata objects for the top collaborators",strict:!0,schema:{type:"object",additionalProperties:!1,properties:{collaborators:{type:"array",items:{type:"object",additionalProperties:!1,properties:{id:{type:"integer",description:"The collaborator's GitHub user ID."},username:{type:"string",description:"The collaborator's GitHub handle."},avatar_url:{type:"string",description:"The URL of the collaborator's GitHub user avatar."},rank:{type:"string",description:"The rank assignment of the collaborator."},explanation:{type:"string",description:"A brief 1-2 sentence description of the rank assignment."}},required:["id","username","avatar_url","rank","explanation"]}}},required:["collaborators"]}},temperature:0}},m=new S.J([]),d=await m.getAuthToken(),u=await o({basePath:"https://api.githubcopilot.com",body:a,path:"/chat/completions",method:"POST",streamingResponse:!1,authToken:d,integrationId:"copilot-directory"});if(!u.ok)throw Error("Something went wrong");let h=await u.json();return h.choices[0]?.message?.content}catch{throw Error("Something went wrong")}},[]);return(0,C.useEffect)(()=>{r?.length||m().then(t=>{e(!1),a(JSON.parse(t)?.collaborators)},()=>{e(!1)})},[]),{collaborators:r,getCollaborators:m}},A=e=>{let t,o,n,u,h,p,x,f,g,_,y,j,S,N,C,A=(0,a.c)(44),{currentTab:k,setCurrentTab:T,loading:R,setLoading:I,makeCAPIRequest:E,fileContext:B}=e,P=void 0===R||R,M=B?.repoOwner,D=B?.repoName;A[0]===Symbol.for("react.memo_cache_sentinel")?(t=new URLSearchParams(s.cg?.location.search).get("issue")||"",A[0]=t):t=A[0];let W=t;A[1]!==M||A[2]!==D?(o=M&&D&&W?(0,i.dRG)({owner:M,repo:D,issueNumber:Number(W)}):void 0,A[1]=M,A[2]=D,A[3]=o):o=A[3];let z=o;A[4]!==B||A[5]!==E||A[6]!==I?(n={fileContext:B,setLoading:I,issueNumber:W,makeCAPIRequest:E},A[4]=B,A[5]=E,A[6]=I,A[7]=n):n=A[7];let{collaborators:F}=w(n);A[8]!==z?(u=()=>{z&&(window.location.href=z)},A[8]=z,A[9]=u):u=A[9];let L=u,$="chat"===k?"page":void 0;A[10]!==T?(h=()=>T("chat"),A[10]=T,A[11]=h):h=A[11],A[12]!==$||A[13]!==h?(p=(0,r.jsx)(l.O.Item,{"aria-current":$,onSelect:h,children:"Chat"}),A[12]=$,A[13]=h,A[14]=p):p=A[14];let U="directory"===k?"page":void 0;A[15]!==F?.length||A[16]!==P||A[17]!==T?(x=()=>{!P&&F?.length&&T("directory")},A[15]=F?.length,A[16]=P,A[17]=T,A[18]=x):x=A[18],A[19]!==F?.length?(f=F?.length?{}:{className:v.muted},A[19]=F?.length,A[20]=f):f=A[20];let O=F?.length||P?"Directory":"Directory unavailable";return A[21]!==f||A[22]!==O?(g=(0,r.jsx)("span",{...f,children:O}),A[21]=f,A[22]=O,A[23]=g):g=A[23],A[24]!==P?(_=P&&(0,r.jsx)("div",{className:v["spinner-container"],children:(0,r.jsx)(m.A,{size:"small"})}),A[24]=P,A[25]=_):_=A[25],A[26]!==g||A[27]!==_?(y=(0,r.jsxs)("div",{className:v["tab-container"],children:[g,_]}),A[26]=g,A[27]=_,A[28]=y):y=A[28],A[29]!==x||A[30]!==y||A[31]!==U?(j=(0,r.jsx)(l.O.Item,{"aria-current":U,onSelect:x,children:y}),A[29]=x,A[30]=y,A[31]=U,A[32]=j):j=A[32],A[33]!==j||A[34]!==p?(S=(0,r.jsxs)(l.O,{"aria-label":"Repository",children:[p,j]}),A[33]=j,A[34]=p,A[35]=S):S=A[35],A[36]!==F||A[37]!==k||A[38]!==z||A[39]!==L?(N="directory"===k&&(0,r.jsxs)("div",{className:v["metadata-container"],children:[(0,r.jsx)("div",{children:(0,r.jsx)(b,{contacts:F})}),z&&(0,r.jsx)("div",{className:v["referrer-button"],children:(0,r.jsx)(d.Q,{variant:"link",leadingVisual:c.ArrowLeftIcon,onClick:L,children:`Return to Issue${W?` ${W}`:""}`})})]}),A[36]=F,A[37]=k,A[38]=z,A[39]=L,A[40]=N):N=A[40],A[41]!==S||A[42]!==N?(C=(0,r.jsxs)("div",{children:[S,N]}),A[41]=S,A[42]=N,A[43]=C):C=A[43],C};try{A.displayName||(A.displayName="CopilotMetadata")}catch{}var k=o(27851),T=o(66871),R=o(38007),I=o(17515),E=o(75177),B=o(52464),P=o(53110),M=o(84863),D=o(59220),W=o(22069),z=o(13468),F=o(99377),L=o(31971),$=o(34901),U=o(47397),O=o(44435),G=o(67522),Q=o(33449),J=o(75718);let q={legalText:"Chat-module__legalText--wsTEU"};var H=o(77191),K=o(99357),Y=o(44669),V=o(40136),Z=o(8387),X=o(15385);let ee={ActionList_Heading:"CopilotSuggestions-module__ActionList_Heading--ArthG"},et=e=>{let t,o,n,i=(0,a.c)(10),{suggestionKind:s}=e,l=(0,$.Pk)(),m=(0,U.b)();i[0]!==m||i[1]!==l?(t=e=>{m.sendChatMessage({thread:(0,O.W)(l),content:e.prompt??e.question,intent:e.intent,modeOverride:e.mode,references:l.currentReferences,topic:l.currentTopic,context:l.context}),(0,R.BI)("copilot_generated_suggestion_click",{intent:e.intent,mode:e.mode,contextType:l.context?.[0]?.type,content:e.question})},i[0]=m,i[1]=l,i[2]=t):t=i[2];let d=t;i[3]!==d?(o=(0,C.memo)(function(e){let{suggestion:t}=e;return(0,r.jsxs)(X.l.Item,{onSelect:()=>d(t),sx:{mx:0,border:"1px solid",borderColor:"border.default",width:"fit-content"},children:[(0,r.jsx)(X.l.LeadingVisual,{children:(0,r.jsx)(P.A,{icon:c.PaperAirplaneIcon})}),(0,r.jsxs)("span",{children:[" ",t.question]})]})}),i[3]=d,i[4]=o):o=i[4];let u=o,h="loading"===l.messagesLoading.state||!!l.streamingMessage,{suggestions:p}=l,x=l.currentReferences[0],f=1===l.currentReferences.length&&x?.type==="repository"&&x.id===l.currentRepository?.id,g=!!(!h&&(L.W.topicsAsReferences?f:!l.showTopicPicker&&0===l.currentReferences.length));return i[5]!==u||i[6]!==g||i[7]!==s||i[8]!==p?(n=g&&p&&p.suggestions?(0,r.jsxs)(X.l,{className:"copilot-suggestions",sx:{pt:0,pb:3,display:"flex",gap:2,flexDirection:"column"},children:["initial"===s&&(0,r.jsx)(X.l.Heading,{as:"h2",className:ee.ActionList_Heading,children:function(e){return e?`Ask about the ${e.replace(/-/g," ")}:`:"Ask anything:"}(p.referenceType)}),p?.suggestions.map(e=>(0,r.jsx)(u,{suggestion:e},e.question))]}):null,i[5]=u,i[6]=g,i[7]=s,i[8]=p,i[9]=n):n=i[9],n},eo=(0,C.memo)(et);try{et.displayName||(et.displayName="CopilotSuggestions")}catch{}try{(n=CopilotSuggestion).displayName||(n.displayName="CopilotSuggestion")}catch{}var en=o(25745),er=o(70066),ea=o(31637),ei=o(6020),es=o(10871),ec=o(87330);let el={container:"CustomBanner-module__container--uV55s",expanded:"CustomBanner-module__expanded--fDTFJ",actions:"CustomBanner-module__actions--tUuz0",iconButton:"CustomBanner-module__iconButton--WWgYX",content:"CustomBanner-module__content--xhiU7",icon:"CustomBanner-module__icon--WrRHA"};function em(e){let t,o,n,i,s,l,m,d=(0,a.c)(16),{icon:u,content:h,actions:p,onDismiss:x}=e,f=(0,C.useRef)(null),[g,_]=(0,C.useState)(!1);d[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{let e=f.current;if(!e)return;let t=new ResizeObserver(t=>{for(let o of t)o.target===e&&(o.contentRect.height>40?_(!0):_(!1))});return t.observe(e),()=>{t.disconnect()}},o=[],d[0]=t,d[1]=o):(t=d[0],o=d[1]),(0,C.useEffect)(t,o);let y=`${el.container} ${g?el.expanded:""}`;return d[2]!==u?(n=(0,r.jsx)("div",{className:el.icon,children:u}),d[2]=u,d[3]=n):n=d[3],d[4]!==h?(i=(0,r.jsx)("div",{className:el.content,children:h}),d[4]=h,d[5]=i):i=d[5],d[6]!==x?(s=x&&(0,r.jsx)(ec.K,{className:el.iconButton,variant:"invisible",icon:c.XIcon,size:"medium","aria-label":"Close",onClick:x}),d[6]=x,d[7]=s):s=d[7],d[8]!==p||d[9]!==s?(l=(0,r.jsxs)("div",{className:el.actions,children:[p,s]}),d[8]=p,d[9]=s,d[10]=l):l=d[10],d[11]!==y||d[12]!==n||d[13]!==i||d[14]!==l?(m=(0,r.jsxs)("div",{ref:f,className:y,children:[n,i,l]}),d[11]=y,d[12]=n,d[13]=i,d[14]=l,d[15]=m):m=d[15],m}try{em.displayName||(em.displayName="CustomBanner")}catch{}function ed(){let e,t,o,n,i,s=(0,a.c)(7),{resetDate:l}=(0,ea.xR)();s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(c.InfoIcon,{}),s[0]=e):e=s[0];let m=e;s[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(ei.s,{children:(0,r.jsx)("h2",{children:"Usage limit reached"})}),s[1]=t):t=s[1],s[2]!==l?(o=(0,r.jsxs)(r.Fragment,{children:[t,"You have reached your free plan limit. It will reset on ",l]}),s[2]=l,s[3]=o):o=s[3];let d=o;s[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)(es.z,{as:"a",href:"https://github.com/features/copilot#pricing",onClick:eu,children:"Upgrade"}),s[4]=n):n=s[4];let u=n;return s[5]!==d?(i=(0,r.jsx)(em,{icon:m,content:d,actions:u}),s[5]=d,s[6]=i):i=s[6],i}function eu(){(0,R.BI)("dotcom_chat.activate",{target:"QUOTA_EXCEEDED_BANNER_LINK_UPGRADE",mode:"assistive"})}try{ed.displayName||(ed.displayName="QuotaExceededBanner")}catch{}var eh=o(34614);let ep={container:"QuotaExceededEmptyState-module__container--ZMWEG",main:"QuotaExceededEmptyState-module__main--g2hJz",hero:"QuotaExceededEmptyState-module__hero--IrY09",copy:"QuotaExceededEmptyState-module__copy--VyrMt",heading:"QuotaExceededEmptyState-module__heading--LzJGU",description:"QuotaExceededEmptyState-module__description--KbMyl",footer:"QuotaExceededEmptyState-module__footer--evZ9_"};function ex(){let e,t,o,n,i,s,c,l,m=(0,a.c)(11),{resetDate:d}=(0,ea.xR)();return m[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("img",{className:ep.hero,src:"/images/modules/copilot-immersive-v1/hero.png",alt:"Hero"}),m[0]=e):e=m[0],m[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("h2",{className:ep.heading,children:"You\u2019ve reached your free plan limit"}),m[1]=t):t=m[1],m[2]!==d?(o=(0,r.jsxs)("p",{className:ep.description,children:["Your limits will reset on ",d,"."]}),m[2]=d,m[3]=o):o=m[3],m[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)(es.z,{as:"a",variant:"primary",href:"https://github.com/features/copilot#pricing",onClick:ef,children:"Upgrade"}),m[4]=n):n=m[4],m[5]!==o?(i=(0,r.jsxs)("div",{className:ep.main,children:[e,(0,r.jsxs)("div",{className:ep.copy,children:[t,o,n]})]}),m[5]=o,m[6]=i):i=m[6],m[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)("strong",{children:"Part of an organization?"}),m[7]=s):s=m[7],m[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsxs)("div",{className:ep.footer,children:[s,(0,r.jsxs)("span",{children:["Upgrade to"," ",(0,r.jsx)(eh.A,{href:"https://github.com/github-copilot/business_signup/choose_business_type?cft=copilot_li.features_copilot.cfb",inline:!0,children:"Copilot Business"})," ","to enable across teams."]})]}),m[8]=c):c=m[8],m[9]!==i?(l=(0,r.jsxs)("div",{className:ep.container,children:[i,c]}),m[9]=i,m[10]=l):l=m[10],l}function ef(){(0,R.BI)("dotcom_chat.activate",{target:"QUOTA_EXCEEDED_EMPTY_STATE_LINK_UPGRADE",mode:"assistive"})}try{ex.displayName||(ex.displayName="QuotaExceededEmptyState")}catch{}var eg=o(74244);let e_={container:"QuotaMeterBanner-module__container--QJsKZ"};function ey(){let e,t,o,n,i,s,l,m=(0,a.c)(9),{isLicensedLimited:d,chatQuotaRemaining:u}=(0,ea.xR)(),[h,p]=(0,C.useState)(ej);m[0]!==u||m[1]!==d?(e=()=>{if(d&&void 0!==u){let e=eg.J.getMeterBannerFlag();u>0&&u<=10?null===e?(eg.J.setMeterBannerFlag(!0),p(!0)):p(e):(eg.J.removeMeterBannerFlag(),p(!1))}},t=[d,u],m[0]=u,m[1]=d,m[2]=e,m[3]=t):(e=m[2],t=m[3]),(0,C.useEffect)(e,t),m[4]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{eg.J.setMeterBannerFlag(!1),p(!1)},m[4]=o):o=m[4];let x=o;if(!h||void 0===u)return null;m[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)(c.InfoIcon,{}),m[5]=n):n=m[5];let f=n;m[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ei.s,{children:(0,r.jsx)("h2",{children:"Usage limit approaching"})}),"You only have a few free responses remaining."]}),m[6]=i):i=m[6];let g=i;m[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)(es.z,{as:"a",href:"https://github.com/features/copilot#pricing",onClick:eb,children:"Upgrade"}),m[7]=s):s=m[7];let _=s;return m[8]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)("div",{className:e_.container,children:(0,r.jsx)(em,{icon:f,content:g,actions:_,onDismiss:x})}),m[8]=l):l=m[8],l}function eb(){(0,R.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"assistive"})}function ej(){return eg.J.getMeterBannerFlag()??!1}try{ey.displayName||(ey.displayName="QuotaMeterBanner")}catch{}var ev=o(33900);function eS(){let e,t,o,n,i,s,c=(0,a.c)(16),{currentTopic:l}=(0,$.Pk)();c[0]!==l?(e=(0,W.P)(l),c[0]=l,c[1]=e):e=c[1];let m=e;c[2]!==l?(t=(0,W.Z6)(l),c[2]=l,c[3]=t):t=c[3];let d=t,u=null;l&&d&&(u=`${l.ownerLogin}/${l.name}`),c[4]!==l||c[5]!==m||c[6]!==u?(o=m?l.repos:u?[u]:[],c[4]=l,c[5]=m,c[6]=u,c[7]=o):o=c[7];let h=o,[p,x]=(0,ev.M8)(h),f=p.requestStatus===ev.xG.CanIndex&&(d&&p.code===ev.W5.Unindexed||m&&p.docs===ev.W5.Unindexed),g=(0,C.useRef)(!1);return c[8]!==p.code||c[9]!==p.docs||c[10]!==m||c[11]!==f||c[12]!==x?(n=function(){let e=m?p.docs:p.code;!g.current&&e===ev.W5.Unindexed&&f&&(g.current=!0,x())},i=[p.code,p.docs,m,f,x],c[8]=p.code,c[9]=p.docs,c[10]=m,c[11]=f,c[12]=x,c[13]=n,c[14]=i):(n=c[13],i=c[14]),(0,C.useEffect)(n,i),c[15]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)(r.Fragment,{}),c[15]=s):s=c[15],s}try{eS.displayName||(eS.displayName="TopicIndexedMessage")}catch{}var eN=o(34164);let eC={container:"TopicIndicatorFlash-module__container--gbqCC",containerAssistive:"TopicIndicatorFlash-module__containerAssistive--y3Nwm",icon:"TopicIndicatorFlash-module__icon--sOj3C",status:"TopicIndicatorFlash-module__status--cIez4",removeButton:"TopicIndicatorFlash-module__removeButton--MuZqW",assistive:"TopicIndicatorFlash-module__assistive--ZNjQ0",mobileOnly:"TopicIndicatorFlash-module__mobileOnly--KLDnQ",nonMobileOnly:"TopicIndicatorFlash-module__nonMobileOnly--Jyc_q"};function ew(e){let t,o,n,i,s,l,m,d,u,h,p,x,f=(0,a.c)(32),{icon:g,topic:_,additionalNonMobileActions:y,mobileActions:b,removeButtonRef:j}=e,v=(0,U.b)(),{mode:S,currentReferences:N,selectedThreadID:C}=(0,$.Pk)(),w=(0,W.Z6)(_)?`${_.ownerLogin}/${_.name}`:_.name;f[0]!==N||f[1]!==v||f[2]!==C||f[3]!==_?(t=()=>{eg.J.setSelectedTopic(C??"",null),v.clearCurrentTopic(),v.clearCurrentReferences(["image","issue"]);let e=[];for(let t of N)_&&((0,W.SI)(t)||(0,W.Zn)(t))&&t.repoID===_.id&&e.push(t);v.removeReferences(e)},f[0]=N,f[1]=v,f[2]=C,f[3]=_,f[4]=t):t=f[4];let A=t,k="immersive"!==S;f[5]!==k?(o=(0,eN.$)(eC.container,{[eC.containerAssistive]:k}),f[5]=k,f[6]=o):o=f[6],f[7]!==g?(n=(0,r.jsx)("span",{className:eC.icon,children:g}),f[7]=g,f[8]=n):n=f[8],f[9]!==w?(i=(0,r.jsx)("span",{children:w}),f[9]=w,f[10]=i):i=f[10],f[11]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)("span",{style:{flex:1}}),l=(0,eN.$)(eC.nonMobileOnly,eC.status),f[11]=s,f[12]=l):(s=f[11],l=f[12]),f[13]!==y?(m=void 0!==y&&(0,r.jsx)(r.Fragment,{children:y}),f[13]=y,f[14]=m):m=f[14],f[15]!==m?(d=(0,r.jsx)("div",{className:l,children:m}),f[15]=m,f[16]=d):d=f[16],f[17]!==b?(u=void 0!==b&&(0,r.jsx)("div",{className:eC.mobileOnly,children:b}),f[17]=b,f[18]=u):u=f[18];let T="assistive"===S;return f[19]!==T?(h=(0,eN.$)(eC.removeButton,{[eC.assistive]:T}),f[19]=T,f[20]=h):h=f[20],f[21]!==A||f[22]!==j||f[23]!==h?(p=(0,r.jsx)(ec.K,{icon:c.XIcon,variant:"invisible",size:"small","aria-label":"Remove topic",onClick:A,className:h,ref:j}),f[21]=A,f[22]=j,f[23]=h,f[24]=p):p=f[24],f[25]!==u||f[26]!==p||f[27]!==o||f[28]!==n||f[29]!==i||f[30]!==d?(x=(0,r.jsxs)("div",{className:o,children:[n,i,s,d,u,p]}),f[25]=u,f[26]=p,f[27]=o,f[28]=n,f[29]=i,f[30]=d,f[31]=x):x=f[31],x}try{ew.displayName||(ew.displayName="TopicIndicatorFlash")}catch{}function eA(){let e,t,o=(0,a.c)(3),{currentTopic:n}=(0,$.Pk)(),i=(0,$.pn)(ek),s=n??i,l=(0,C.useRef)(null);return s?(o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(c.RepoIcon,{}),o[0]=e):e=o[0],o[1]!==s?(t=(0,r.jsx)(ew,{icon:e,topic:s,removeButtonRef:l}),o[1]=s,o[2]=t):t=o[2],t):null}function ek(e){return e.currentReferences.find(eT)}function eT(e){return"docset"===e.type}try{eA.displayName||(eA.displayName="TopicIndicator")}catch{}var eR=o(19139),eI=o(66343);function eE(e){let t,o,n,i=(0,a.c)(4),{mode:s}=e;i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(E.A,{sx:{height:"3rem",mb:2,display:"flex",justifyContent:"center"},children:(0,r.jsx)(eI.A,{})}),i[0]=t):t=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)(h.A,{as:"h1",sx:{textAlign:"center",fontSize:3,mb:2},children:"Ask Copilot"}),i[1]=o):o=i[1];let c="immersive"===s?5:3;return i[2]!==c?(n=(0,r.jsxs)(r.Fragment,{children:[t,o,(0,r.jsx)(B.A,{as:"p",sx:{textAlign:"center",color:"fg.muted",mb:c,px:3,textWrap:"balance"},children:"Select a repository to get started. Ask questions about your codebase to get answers fast and learn your way around."})]}),i[2]=c,i[3]=n):n=i[3],n}try{eE.displayName||(eE.displayName="ChatWithCopilotHeader")}catch{}function eB(e){let t,o=(0,a.c)(4),{docset:n,size:i}=e,s="organization"===n.ownerType;return o[0]!==n.avatarUrl||o[1]!==i||o[2]!==s?(t=(0,r.jsx)(u.r,{src:n.avatarUrl,square:s,size:i}),o[0]=n.avatarUrl,o[1]=i,o[2]=s,o[3]=t):t=o[3],t}try{eB.displayName||(eB.displayName="KnowledgeBaseAvatar")}catch{}var eP=o(70170),eM=o(9591),eD=o(6612),eW=o(91819),ez=o(99629);function eF(){let e,t,o,n,i,s,l,d,u,h,p,x,f,g,_,y=(0,a.c)(27),b=(0,U.b)(),{mode:j,selectedThreadID:v}=(0,$.Pk)(),[S,N]=(0,C.useState)("");y[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,eP.s)(e=>N(e),400,{start:!1}),y[0]=e):e=y[0];let w=e,{repositories:A,loading:k,resetTopRepoResults:R}=(0,eD.U)(S,!0,4);y[1]!==b||y[2]!==j||y[3]!==R||y[4]!==v?(t=async e=>{if(R(),void 0===e){b.showTopicPicker(!1),b.clearCurrentTopic(),b.clearCurrentReferences(),"immersive"===j&&(0,T.kd)("/copilot"),v&&eg.J.setSelectedTopic(v,null);return}await b.fetchCurrentRepo(Number(e)),b.showTopicPicker(!1)},y[1]=b,y[2]=j,y[3]=R,y[4]=v,y[5]=t):t=y[5];let I=t;e:{if(k){o="Loading repositories";break e}if(0===A.length){o="No repositories found";break e}if(1===A.length){o="1 repository found";break e}o=`${A.length} repositories found`}let P=o;return y[6]===Symbol.for("react.memo_cache_sentinel")?(n={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:2,display:"flex",flexDirection:"column",mb:3},y[6]=n):n=y[6],y[7]===Symbol.for("react.memo_cache_sentinel")?(i={p:3,pb:0},y[7]=i):i=y[7],y[8]===Symbol.for("react.memo_cache_sentinel")?(s=e=>w(e.target.value),y[8]=s):s=y[8],y[9]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)(E.A,{sx:i,children:(0,r.jsx)(eM.A,{id:eW.uN,leadingVisual:c.SearchIcon,name:"topic-search","aria-label":"Search repositories to chat about",placeholder:"Search repositories to chat about",onChange:s,sx:{width:"100%","input:placeholder-shown":{textOverflow:"ellipsis"}}})}),y[9]=l):l=y[9],y[10]!==P?(d=(0,r.jsx)("div",{role:"status",className:"sr-only",children:P}),y[10]=P,y[11]=d):d=y[11],y[12]!==I||y[13]!==k||y[14]!==A?(u=k?(0,r.jsx)(E.A,{as:"li",sx:{display:"flex",justifyContent:"center",py:2,height:"190px",alignItems:"center"},children:(0,r.jsx)(m.A,{})}):0===A.length?(0,r.jsxs)(X.l.Item,{disabled:!0,children:[(0,r.jsx)(X.l.LeadingVisual,{sx:{color:"fg.muted"},children:(0,r.jsx)(c.CircleSlashIcon,{})}),(0,r.jsx)(B.A,{sx:{color:"fg.muted"},children:"No results found"})]}):(0,r.jsx)(r.Fragment,{children:A.length>0&&(0,r.jsxs)(X.l.Group,{children:[(0,r.jsx)(X.l.GroupHeading,{as:"h3",children:"Recent repositories"}),A.map(e=>(0,r.jsx)(ez.W,{repo:e,onSelect:I,trailingVisualComponent:(0,r.jsx)(c.ArrowRightIcon,{})},e.nwo))]})}),y[12]=I,y[13]=k,y[14]=A,y[15]=u):u=y[15],y[16]===Symbol.for("react.memo_cache_sentinel")?(h=(0,r.jsx)(X.l.Divider,{sx:{marginInline:0}}),y[16]=h):h=y[16],y[17]!==I?(p=()=>I(void 0),y[17]=I,y[18]=p):p=y[18],y[19]===Symbol.for("react.memo_cache_sentinel")?(x={"#chat-with-no-context--label":{marginBottom:"0px !important"}},y[19]=x):x=y[19],y[20]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.jsx)(X.l.TrailingVisual,{children:(0,r.jsx)(c.ArrowRightIcon,{})}),y[20]=f):f=y[20],y[21]!==p?(g=(0,r.jsxs)(X.l.Item,{id:"chat-with-no-context",onSelect:p,sx:x,children:["General purpose chat",f]},"chat-with-no-context"),y[21]=p,y[22]=g):g=y[22],y[23]!==g||y[24]!==d||y[25]!==u?(_=(0,r.jsxs)(E.A,{sx:n,children:[l,(0,r.jsxs)(X.l,{children:[d,u,h,g]})]}),y[23]=g,y[24]=d,y[25]=u,y[26]=_):_=y[26],_}try{eF.displayName||(eF.displayName="TopicList")}catch{}let eL=()=>{let e,t,o,n,i,s,c,l,m,d=(0,a.c)(17),u=(0,$.Pk)();e:{let t;if(!u.ssoOrganizations){let t;d[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],d[0]=t):t=d[0],e=t;break e}d[1]!==u.ssoOrganizations?(t=u.ssoOrganizations.map(eG),d[1]=u.ssoOrganizations,d[2]=t):t=d[2],e=t}let h=e;return d[3]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"column",flexGrow:1,height:"100%"},d[3]=t):t=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",flexDirection:"column",flexGrow:1},d[4]=o):o=d[4],d[5]!==u.mode?(n=(0,r.jsx)(eE,{mode:u.mode}),d[5]=u.mode,d[6]=n):n=d[6],d[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsx)(E.A,{sx:{px:3,"> button":{m:"0 auto"}},children:(0,r.jsx)(eF,{})}),d[7]=i):i=d[7],d[8]===Symbol.for("react.memo_cache_sentinel")?(s={mx:3,mb:3},d[8]=s):s=d[8],d[9]!==h?(c=(0,r.jsx)(eR.x,{portalContainerName:er.E5,protectedOrgs:h,redirectURI:eQ,sx:s}),d[9]=h,d[10]=c):c=d[10],d[11]!==u.currentTopic?(l=(0,r.jsx)(e$,{currentTopic:u.currentTopic}),d[11]=u.currentTopic,d[12]=l):l=d[12],d[13]!==n||d[14]!==c||d[15]!==l?(m=(0,r.jsx)(E.A,{sx:t,children:(0,r.jsxs)(E.A,{sx:o,children:[n,i,c,l]})}),d[13]=n,d[14]=c,d[15]=l,d[16]=m):m=d[16],m};function e$(e){let t,o,n=(0,a.c)(3),{currentTopic:i}=e;return(0,W.P)(i)?(n[0]===Symbol.for("react.memo_cache_sentinel")?(t={mt:3,mb:4},n[0]=t):t=n[0],n[1]!==i?(o=(0,r.jsx)(E.A,{sx:t,children:(0,r.jsx)(eU,{docset:i})}),n[1]=i,n[2]=o):o=n[2],o):null}function eU(e){let t,o,n,i,s,c,l,m,d,u,p,x,f=(0,a.c)(20),{docset:g}=e;return f[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"column",gap:3,border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"var(--borderRadius-large)",padding:3},f[0]=t):t=f[0],f[1]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",alignItems:"baseline",gap:2},f[1]=o):o=f[1],f[2]!==g?(n=(0,r.jsx)(eB,{docset:g,size:24}),f[2]=g,f[3]=n):n=f[3],f[4]===Symbol.for("react.memo_cache_sentinel")?(i={fontSize:1,m:0},f[4]=i):i=f[4],f[5]!==g.name?(s=(0,r.jsx)(h.A,{as:"h3",sx:i,children:g.name}),f[5]=g.name,f[6]=s):s=f[6],f[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsx)(B.A,{sx:{fontSize:0,color:"fg.muted"},children:"Knowledge base added to conversation"}),f[7]=c):c=f[7],f[8]!==n||f[9]!==s?(l=(0,r.jsxs)(E.A,{sx:o,children:[n,s," ",c]}),f[8]=n,f[9]=s,f[10]=l):l=f[10],f[11]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)(h.A,{as:"h4",sx:{fontSize:0,m:0,color:"fg.muted",fontWeight:"500"},children:"Repositories in this knowledge base"}),f[11]=m):m=f[11],f[12]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",flexWrap:"wrap",gap:3},f[12]=d):d=f[12],f[13]!==g.repos?(u=g.repos.map(eO),f[13]=g.repos,f[14]=u):u=f[14],f[15]!==u?(p=(0,r.jsx)(E.A,{sx:d,children:u}),f[15]=u,f[16]=p):p=f[16],f[17]!==p||f[18]!==l?(x=(0,r.jsxs)(E.A,{sx:t,children:[l,m,p]}),f[17]=p,f[18]=l,f[19]=x):x=f[19],x}function eO(e){return(0,r.jsxs)(E.A,{sx:{whiteSpace:"nowrap"},children:[(0,r.jsx)(c.RepoIcon,{}),` ${e}`]},e)}try{eL.displayName||(eL.displayName="TopicPicker")}catch{}try{e$.displayName||(e$.displayName="TopicDescription")}catch{}try{eU.displayName||(eU.displayName="DocsetDescription")}catch{}function eG(e){return e.login}function eQ(){return`/search/refresh_blackbird_caches?return_to=${location.href}`}let eJ=e=>{let t,o,n,i,s=(0,a.c)(15),{disableTopicPicker:c,inputRef:l,showQuotaExceededEmptyState:m}=e,d=(0,$.Pk)(),{isWaitingOnCopilot:u,showTopicPicker:h,streamingMessage:p}=d,x="immersive"===d.mode,{scrollToBottom:f}=(0,V.b)(),{messages:g,groupedMessages:_}=(0,D.a)(d);return s[0]!==f?(t=()=>f("instant"),o=[f],s[0]=f,s[1]=t,s[2]=o):(t=s[1],o=s[2]),(0,I.N)(t,o),s[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)("h2",{className:"sr-only",children:"Copilot Chat"}),s[3]=n):n=s[3],s[4]!==g||s[5]!==c||s[6]!==_||s[7]!==l||s[8]!==x||s[9]!==u||s[10]!==m||s[11]!==h||s[12]!==d||s[13]!==p?(i=(0,r.jsxs)(r.Fragment,{children:[n,m?(0,r.jsx)(ex,{}):h&&!c?(0,r.jsx)(eL,{}):(0,r.jsx)(E.A,{sx:{display:"flex",flexDirection:"column",minHeight:"0",flexGrow:1},children:(0,r.jsxs)(E.A,{className:"copilot-messages-container",sx:{display:"flex",flexDirection:"column",flexGrow:1},children:[0===g.length&&(0,r.jsx)("p",{className:q.legalText,children:(0,r.jsx)(en.h,{})}),!x&&!L.W.topicsAsReferences&&(0,r.jsx)(eS,{}),_.map((e,t)=>(0,r.jsx)(Y.i,{isLastGroup:t===_.length-1,children:e.map((o,n)=>{let a=t===_.length-1&&n===e.length-1;return(o===p||o.id===F.Wp||!eq(o)||!L.W.dotcomChatClientSideSkills||o.error||eK(o,a,d))&&(0,r.jsx)(K.c,{isLatestMessage:a,isFirstReply:1===g.length,isStreaming:o.id===p?.id||a&&u,message:o,inputRef:l},n)})},t)),d.clientSkillConfirmation&&L.W.dotcomChatClientSideSkills&&(0,r.jsx)("div",{className:"m-3",children:(0,r.jsx)(Z.m,{confirmation:d.clientSkillConfirmation,handleConfirmation:e=>d.clientSkillConfirmation?.onSubmit?.("accepted"===e.state),isLatestMessage:!0})})]})})]}),s[4]=g,s[5]=c,s[6]=_,s[7]=l,s[8]=x,s[9]=u,s[10]=m,s[11]=h,s[12]=d,s[13]=p,s[14]=i):i=s[14],i},eq=e=>!e.content&&(!e.confirmations||0===e.confirmations.length)&&(!e.clientConfirmations||0===e.clientConfirmations.length),eH=e=>e.clientSkillsRequests&&e.clientSkillsRequests.length>0||e.clientToolResults&&e.clientToolResults.length>0,eK=(e,t,o)=>eH(e)&&t&&!o.streamingMessage&&!o.clientSkillConfirmation,eY=()=>{let e,t,o,n=(0,a.c)(3);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e={m:"auto",display:"flex",flexDirection:"column",alignItems:"center",height:"100%",justifyContent:"center"},t=(0,r.jsx)(m.A,{size:"large"}),n[0]=e,n[1]=t):(e=n[0],t=n[1]),n[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsxs)(E.A,{sx:e,children:[t,(0,r.jsx)(E.A,{sx:{p:3,color:"fg.subtle"},children:"Loading conversation\u2026"})]}),n[2]=o):o=n[2],o},eV=()=>{let e,t,o,n,i=(0,a.c)(8),{mode:s,reviewLab:l}=(0,$.Pk)(),m="immersive"===s?3:2;return i[0]!==m?(e={display:"flex",gap:"2",alignItems:"center",py:3,pr:3,pl:m,color:"fg.subtle"},i[0]=m,i[1]=e):e=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(P.A,{icon:c.AlertIcon}),i[2]=t):t=i[2],i[3]!==l?(o=l&&(0,r.jsx)(r.Fragment,{children:"\xa0You are in a review lab. Please check that you are connected to the Developer VPN."}),i[3]=l,i[4]=o):o=i[4],i[5]!==e||i[6]!==o?(n=(0,r.jsxs)(E.A,{sx:e,children:[t,"Failed to load previous messages.",o]}),i[5]=e,i[6]=o,i[7]=n):n=i[7],n},eZ=({inputRef:e})=>{let t=(0,$.Pk)(),o=(0,U.b)(),{currentReferences:n,messagesLoading:a,messagesRestored:i,threadsLoading:s,currentTopic:c,messages:l,mode:m,selectedThreadID:d,showTopicPicker:u,context:h}=t,p=(0,O.W)(t),x=(0,C.useMemo)(()=>(0,W.k4)(Object.keys(Q.Pe)).slice(0,4).map(e=>({heading:e,content:(0,W.k4)(Q.Pe[e])[0]})),[]),{textAreaRef:f}=(0,M.Y)(e),{chatQuotaExceeded:g,isLicensedLimited:_,reloadQuota:y}=(0,ea.xR)(),{ambientError:b}=(0,$.Pk)(),[j,v]=(0,C.useState)(!0),[S,N]=(0,C.useState)("chat"),w=(0,k.G7)("copilot_metadata_poc"),I=!!h&&h[0]&&("file"===h[0].type||"file-v2"===h[0].type),B=(0,G.GF)(t.availableModels);(0,C.useEffect)(()=>{if(!d||"assistive"===m)return;let e=`${W.Jz}/c/${d}`;window.location.pathname!==e&&0!==l.length&&(0,T.kd)(e)},[d,m,l.length]);let P=(0,C.useCallback)(async e=>{""!==e.trim()&&(y("user_submit"),await o.sendChatMessage({thread:p,content:e,references:n,topic:c,context:h,customInstructions:t.customInstructions,skillOptions:t.skillOptions,model:B}))},[y,o,p,n,c,h,t.customInstructions,t.skillOptions,B]),D=i&&l.length>0,F="loading"===a.state&&t.selectedThreadID&&!u&&!D,q="error"===a.state||"error"===s.state,K="loaded"===a.state||D,Y=g&&(u||!p),[Z]=(0,C.useState)(t.renderAttachKnowledgeBaseHerePopover),X=(0,z.B)(l),ee=!!(!F&&!t.currentTopic&&!u&&0===X.length&&!Z&&0===n.length);return(0,r.jsxs)(r.Fragment,{children:[w&&I&&(0,r.jsx)(A,{fileContext:h[0],loading:j,setLoading:v,currentTab:S,setCurrentTab:N,makeCAPIRequest:W.p}),(!w||!!w&&"chat"===S)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(V.$,{className:"copilot-chat-messages",style:{flex:"1 1 auto"},children:[F&&(0,r.jsx)(eY,{}),q&&(0,r.jsx)(eV,{}),K&&!F&&(0,r.jsx)(eJ,{inputRef:f,showQuotaExceededEmptyState:Y}),(0,r.jsx)(er.Cb,{})]}),ee&&(0,r.jsx)(E.A,{className:"copilot-chat-messages",sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2,px:3,mb:3,scrollbarGutter:"stable"},children:x.map((e,n)=>(0,r.jsx)(eX,{heading:e.heading,content:e.content,onSubmit:()=>{o.sendChatMessage({thread:(0,O.W)(t),content:e.content,references:t.currentReferences,topic:t.currentTopic,context:t.context}),(0,R.BI)("copilot_chat_suggestion_click",{topic:t.currentTopic?.name})}},n))}),!F&&!u&&!Y&&(0,r.jsx)(E.A,{className:"copilot-chat-input copilot-chat-input-outer",sx:{display:"flex",flexDirection:"column",mt:"auto",px:3,pb:3,zIndex:1},children:g?(0,r.jsx)(ed,{}):(0,r.jsxs)(r.Fragment,{children:[!ee&&0===X.length&&!t.showTopicPicker&&(0,r.jsx)(eo,{suggestionKind:"initial"}),(0,r.jsxs)("div",{children:[_&&(0,r.jsx)(ey,{}),b&&(0,r.jsx)(J.P,{ambientError:b}),!L.W.topicsAsReferences&&(0,r.jsx)(eA,{}),(0,r.jsx)(H.V,{textAreaRef:f,onSubmit:P,isStreaming:!!t.streamingMessage,size:"small"},d)]})]})})]}),(0,r.jsx)(er.zc,{})]})};function eX(e){let t,o,n,i,s,c,l=(0,a.c)(11),{heading:m,content:u,onSubmit:p}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t={bg:"canvas.default",height:"auto",minWidth:"auto",borderBottom:"1px solid",borderColor:"border.default",border:"1px solid var(--borderColor-default, var(--color-border-default))",flex:"1 1 49%",display:"flex",flexDirection:"column",justifyContent:"center",p:2},l[0]=t):t=l[0],l[1]===Symbol.for("react.memo_cache_sentinel")?(o={textAlign:"center",fontSize:1,m:0,mb:1,wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal"},l[1]=o):o=l[1],l[2]!==m?(n=(0,r.jsx)(h.A,{as:"h3",sx:o,children:m}),l[2]=m,l[3]=n):n=l[3],l[4]===Symbol.for("react.memo_cache_sentinel")?(i={fontSize:0,fontWeight:400,textAlign:"center",color:"fg.muted",m:0,textWrap:"balance",wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal"},l[4]=i):i=l[4],l[5]!==u?(s=(0,r.jsx)(B.A,{as:"p",sx:i,children:u}),l[5]=u,l[6]=s):s=l[6],l[7]!==p||l[8]!==n||l[9]!==s?(c=(0,r.jsxs)(d.Q,{sx:t,onClick:p,children:[n,s]}),l[7]=p,l[8]=n,l[9]=s,l[10]=c):c=l[10],c}try{eJ.displayName||(eJ.displayName="Messages")}catch{}try{eY.displayName||(eY.displayName="Loading")}catch{}try{eV.displayName||(eV.displayName="Error")}catch{}try{eZ.displayName||(eZ.displayName="Chat")}catch{}try{eX.displayName||(eX.displayName="SuggestedPrompt")}catch{}},41039:(e,t,o)=>{o.d(t,{v:()=>d});var n,r=o(74848),a=o(55463),i=o(87330),s=o(94977),c=o(96540);let l=e=>` ${e.split(" ").map(e=>`<${e.replaceAll("Mod",(0,a.U0)()?"Cmd":"Ctrl").replaceAll("Command","Cmd").replaceAll("Control","Ctrl").toLowerCase()}>`).join(" / ")}`,m=e=>e.replaceAll("{CMD_CTRL}",(0,a.U0)()?"Command":"Control"),d=(0,c.forwardRef)(({label:e,hideTooltip:t,icon:o,shortcut:n,sx:a,tooltipDirection:d,...u},h)=>{let p=(0,c.useCallback)(()=>{let a={display:"flex"};return d?.includes("w")&&(a={...a,pl:2,ml:-2}),d?.includes("e")&&(a={...a,pr:2,mr:-2}),d?.includes("s")&&(a={...a,pb:2,mb:-2}),(d?.includes("n")||!d)&&(a={...a,pt:2,mt:-2}),t?(0,r.jsx)(o,{}):(0,r.jsx)(s.A,{"aria-label":`${e}${n?l(n):""}`,className:"icon-button-with-tooltip__tooltip",direction:d,sx:a,children:(0,r.jsx)(o,{})})},[t,e,n,d,o]);return(0,r.jsx)(i.K,{unsafeDisableTooltip:!0,ref:h,icon:p,"aria-keyshortcuts":n?m(n):void 0,sx:{...a,"&:focus-visible, &:hover":{"& .icon-button-with-tooltip__tooltip":{"&::after, &::before":{display:"inline-block",textDecoration:"none",animationName:"tooltip-appear",animationDuration:"0.1s",animationFillMode:"forwards",animationTimingFunction:"ease-in"}}},"&:hover .icon-button-with-tooltip__tooltip":{"&::after, &::before":{animationDelay:"0.4s"}}},...u,"aria-label":e})});d.displayName="IconButtonWithTooltip";try{(n=TooltippedIcon).displayName||(n.displayName="TooltippedIcon")}catch{}}}]);
//# sourceMappingURL=ui_packages_copilot-chat_components_Chat_tsx-ui_packages_icon-button-with-tooltip_IconButtonW-1ba5d9-7104e5aceb86.js.map